<div class="mb-4 px-1 flex justify-between">
  <div class="inline-block">
    <h3 class="font-semibold text-foreground">Team Members</h3>
    <div class="space-x-1 text-xs font-medium text-muted-foreground">
      <span>Current Members:</span>
      <span class="text-foreground">{{ members.length }}</span>
    </div>
  </div>
  <div class="inline-block space-x-4">
    <button
      (click)="toggleAddMemberForm()"
      class="flex-none rounded-md bg-primary px-4 py-2.5 text-xs font-semibold text-primary-foreground">
      {{ showAddMemberForm ? 'Cancel' : 'Add Member' }}
    </button>
  </div>
</div>

<div
    class=" scrollbar-thumb-rounded scrollbar-track-rounded grow overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted">

<div class="mb-4 p-4 border rounded-lg bg-background border-muted/20" style="min-width: 45rem;">
  <h4 class="font-semibold text-foreground mb-2">Add Team Members</h4>
  <form [formGroup]="addMembersForm" (ngSubmit)="addMembers()">
    <div formArrayName="members" *ngFor="let member of members.controls; let i = index" class="mb-4 p-2 border-b border-muted/20">
      <div [formGroupName]="i" class="flex items-center space-x-4">
        <!-- Name Input -->
        <div class="flex-1">
          <label for="name-{{ i }}" class="sr-only">Name</label>
          <input
            id="name-{{ i }}"
            type="text"
            formControlName="name"
            class="mt-1 block w-full rounded-md border border-muted px-3 py-2 text-sm"
            placeholder="Enter member's name" />
        </div>

        <!-- Email Input -->
        <div class="flex-1">
          <label for="email-{{ i }}" class="sr-only">Email</label>
          <input
            id="email-{{ i }}"
            type="email"
            formControlName="email"
            class="mt-1 block w-full rounded-md border border-muted px-3 py-2 text-sm"
            placeholder="Enter member's email" />
        </div>

        <!-- Role Dropdown -->
        <div class="flex-1">
          <label for="role-{{ i }}" class="sr-only">Role</label>
          <select
            id="role-{{ i }}"
            formControlName="role"
            class="mt-1 block rounded-md border border-muted px-3 py-2 text-sm">
            <option value="manager">Manager</option>
            <option value="media_buyer">Media Buyer</option>
          </select>
        </div>

        <!-- Remove Member Button -->
        <button
          type="button"
          (click)="removeMember(i)"
          class="text-red-500 hover:underline text-sm">
          Remove
        </button>
      </div>
    </div>

    <!-- Add Member Button -->
    <div class="flex justify-between mt-4">
      <button
        type="button"
        (click)="addMember()"
        class="rounded-md bg-muted px-4 py-2 text-sm font-semibold text-muted-foreground">
        Add Another Member
      </button>

      <!-- Submit All Members -->
      <button
        type="submit"
        class="rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground">
        Save Members
      </button>
    </div>
  </form>
</div>
</div>


<app-members-list></app-members-list>
